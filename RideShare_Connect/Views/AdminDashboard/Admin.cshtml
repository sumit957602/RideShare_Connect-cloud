@model RideShare_Connect.ViewModels.AdminDashboardViewModel
@using System.Linq
@{
    ViewData["Title"] = "Driver Login";
}

<head>
    <link rel="stylesheet" href="~/css/admin.css" asp-append-version="true" />
</head>

<body>

    <nav class="navbar navbar-expand-lg navbar-dark sticky-top">
        <div class="container">
            <a class="navbar-brand fs-4" href="index.html">
                <i class="bi bi-car-front-fill me-2" style="color: var(--secondary-color);"></i>RideShare Connect
            </a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item">
                        <a class="nav-link" href="../../Home">Home</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link active" href="#">Admin Panel</a>
                    </li>
                </ul>
                <div class="dropdown ms-lg-3">
                    <a href="#" class="d-flex align-items-center text-white text-decoration-none dropdown-toggle" id="dropdownUser1" data-bs-toggle="dropdown" aria-expanded="false">
                        <img src="https://images.pexels.com/photos/1681010/pexels-photo-1681010.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1" alt="" width="32" height="32" class="rounded-circle me-2">
                        <strong>Admin User</strong>
                    </a>
                    <ul class="dropdown-menu dropdown-menu-dark text-small shadow" aria-labelledby="dropdownUser1">
                        <li><a class="dropdown-item" href="#">Settings</a></li>
                        <li><hr class="dropdown-divider"></li>
                        <li>
                            <form asp-controller="UserAccount" asp-action="Logout" method="post" class="d-inline">
                                <button type="submit" class="dropdown-item">Sign out</button>
                            </form>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
    </nav>

    <main class="flex-grow-1">
        <div class="container-fluid h-100">
            <div class="row h-100">
                <nav id="sidebar" class="col-md-3 col-lg-2 d-md-block bg-dark sidebar collapse">
                    <div class="position-sticky pt-3">
                        <ul class="nav flex-column" id="sidebar-nav" role="tablist">
                            <li class="nav-item" role="presentation">
                                <a class="nav-link active text-white" data-bs-toggle="tab" data-bs-target="#dashboard-tab-pane" role="tab" aria-selected="true">
                                    <i class="bi bi-speedometer2 me-2"></i>Dashboard
                                </a>
                            </li>
                            <li class="nav-item" role="presentation">
                                <a class="nav-link text-white-50" data-bs-toggle="tab" data-bs-target="#users-tab-pane" role="tab" aria-selected="false">
                                    <i class="bi bi-people-fill me-2"></i>User Management
                                </a>
                            </li>
                            <li class="nav-item" role="presentation">
                                <a class="nav-link text-white-50" data-bs-toggle="tab" data-bs-target="#drivers-tab-pane" role="tab" aria-selected="false">
                                    <i class="bi bi-person-badge-fill me-2"></i>Driver Management
                                </a>
                            </li>
                            <li class="nav-item" role="presentation">
                                <a class="nav-link text-white-50" data-bs-toggle="tab" data-bs-target="#vehicles-tab-pane" role="tab" aria-selected="false">
                                    <i class="bi bi-truck me-2"></i>Vehicle Management
                                </a>
                            </li>
                            <li class="nav-item" role="presentation">
                                <a class="nav-link text-white-50" data-bs-toggle="tab" data-bs-target="#rides-tab-pane" role="tab" aria-selected="false">
                                    <i class="bi bi-car-front-fill me-2"></i>Ride Management
                                </a>
                            </li>
                            <li class="nav-item" role="presentation">
                                <a class="nav-link text-white-50" data-bs-toggle="tab" data-bs-target="#reports-tab-pane" role="tab" aria-selected="false">
                                    <i class="bi bi-flag-fill me-2"></i>Reports & Complaints
                                </a>
                            </li>
                            <li class="nav-item" role="presentation">
                                <a class="nav-link text-white-50" data-bs-toggle="tab" data-bs-target="#financials-tab-pane" role="tab" aria-selected="false">
                                    <i class="bi bi-cash-coin me-2"></i>Financials
                                </a>
                            </li>
                            <li class="nav-item" role="presentation">
                                <a class="nav-link text-white-50" data-bs-toggle="tab" data-bs-target="#config-tab-pane" role="tab" aria-selected="false">
                                    <i class="bi bi-gear-fill me-2"></i>System Config
                                </a>
                            </li>
                        </ul>
                    </div>
                </nav>

                <div class="col-md-9 ms-sm-auto col-lg-10 main-content px-4 py-4 bg-light">
                    <div class="tab-content" id="adminTabContent">
                        <div class="tab-pane fade show active" id="dashboard-tab-pane" role="tabpanel" tabindex="0">
                            <div class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pb-2 mb-4 border-bottom">
                                <h1 class="h2">Dashboard Overview</h1>
                            </div>
                            <div class="row g-4 mb-4">
                                <div class="col-md-6 col-xl-3">
                                    <div class="card border-0 shadow-sm h-100">
                                        <div class="card-body d-flex align-items-center">
                                            <div class="icon-shape icon-lg bg-primary-subtle text-primary rounded-3 me-3 d-flex align-items-center justify-content-center" style="width: 64px; height: 64px;">
                                                <i class="bi bi-cash-coin fs-2"></i>
                                            </div>
                                            <div>
                                                <h4 class="mb-0 fw-bold">₹@Model.TotalRevenue</h4>
                                                <p class="text-muted mb-0">Total Revenue</p>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-6 col-xl-3">
                                    <div class="card border-0 shadow-sm h-100">
                                        <div class="card-body d-flex align-items-center">
                                            <div class="icon-shape icon-lg bg-success-subtle text-success rounded-3 me-3 d-flex align-items-center justify-content-center" style="width: 64px; height: 64px;">
                                                <i class="bi bi-people-fill fs-2"></i>
                                            </div>
                                            <div>
                                                <h4 class="mb-0 fw-bold">@Model.TotalUsers</h4>
                                                <p class="text-muted mb-0">Total Users</p>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-6 col-xl-3">
                                    <div class="card border-0 shadow-sm h-100">
                                        <div class="card-body d-flex align-items-center">
                                            <div class="icon-shape icon-lg bg-info-subtle text-info rounded-3 me-3 d-flex align-items-center justify-content-center" style="width: 64px; height: 64px;">
                                                <i class="bi bi-car-front-fill fs-2"></i>
                                            </div>
                                            <div>
                                                <h4 class="mb-0 fw-bold">@Model.RidesCompleted</h4>
                                                <p class="text-muted mb-0">Rides Completed</p>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-6 col-xl-3">
                                    <div class="card border-0 shadow-sm h-100">
                                        <div class="card-body d-flex align-items-center">
                                            <div class="icon-shape icon-lg bg-danger-subtle text-danger rounded-3 me-3 d-flex align-items-center justify-content-center" style="width: 64px; height: 64px;">
                                                <i class="bi bi-exclamation-triangle-fill fs-2"></i>
                                            </div>
                                            <div>
                                                <h4 class="mb-0 fw-bold">@Model.OpenReports</h4>
                                                <p class="text-muted mb-0">Open Reports</p>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="row g-4">
                                <div class="col-lg-7">
                                    <div class="card border-0 shadow-sm h-100">
                                        <div class="card-header bg-white py-3">
                                            <h5 class="card-title mb-0">User Growth</h5>
                                        </div>
                                        <div class="card-body">
                                            <canvas id="userGrowthChart"></canvas>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-lg-5">
                                    <div class="card border-0 shadow-sm h-100">
                                        <div class="card-header bg-white py-3">
                                            <h5 class="card-title mb-0">Revenue by Month</h5>
                                        </div>
                                        <div class="card-body">
                                            <canvas id="revenueChart"></canvas>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="tab-pane fade" id="users-tab-pane" role="tabpanel" tabindex="0">
                            <div class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pb-2 mb-4 border-bottom">
                                <h1 class="h2">User Management</h1>
                            </div>
                            <div class="card border-0 shadow-sm">
                                <div class="card-body p-0">
                                    <div class="table-responsive">
                                        <table class="table table-hover align-middle mb-0">
                                            <thead class="bg-light">
                                                <tr>
                                                    <th class="ps-4 py-3">User ID</th>
                                                    <th class="py-3">Name</th>
                                                    <th class="py-3">Email</th>
                                                    <th class="py-3">Role</th>
                                                    <th class="py-3">Status</th>
                                                    <th class="py-3">Joined Date</th>
                                                    <th class="pe-4 py-3">Actions</th>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                @foreach (var user in Model.Users)
                                                {
                                                    <tr>
                                                        <td class="ps-4">@user.Id</td>
                                                        <td class="fw-medium">@user.UserProfile?.FullName</td>
                                                        <td>@user.Email</td>
                                                        <td><span class="badge @(user.UserType == "Driver" ? "bg-info-subtle text-info-emphasis" : "bg-primary-subtle text-primary-emphasis") rounded-pill border border-0">@user.UserType</span></td>
                                                        <td><span class="badge @(user.AccountStatus == "Active" ? "bg-success-subtle text-success-emphasis" : "bg-danger-subtle text-danger-emphasis") rounded-pill border border-0">@user.AccountStatus</span></td>
                                                        <td>@user.CreatedAt.ToString("MMM dd, yyyy")</td>
                                                        <td class="pe-4">
                                                            <div class="btn-group btn-group-sm">
                                                                <a asp-action="EditUser" asp-route-id="@user.Id" class="btn btn-outline-secondary" title="Edit User"><i class="bi bi-pencil-fill"></i></a>
                                                                <form asp-action="DeleteUser" asp-route-id="@user.Id" method="post" class="d-inline">
                                                                    <button type="submit" class="btn btn-outline-danger ms-1" title="Delete User" onclick="return confirm('Are you sure you want to delete this user?');"><i class="bi bi-trash-fill"></i></button>
                                                                </form>
                                                            </div>
                                                        </td>
                                                    </tr>
                                                }
                                            </tbody>
                                        </table>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="tab-pane fade" id="drivers-tab-pane" role="tabpanel" tabindex="0">
                            <div class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pb-2 mb-4 border-bottom">
                                <h1 class="h2">Driver Management</h1>
                            </div>
                            <div class="card border-0 shadow-sm">
                                <div class="card-body p-0">
                                    <div class="table-responsive">
                                        <table class="table table-hover align-middle mb-0">
                                            <thead class="bg-light">
                                                <tr>
                                                    <th class="ps-4 py-3">Driver ID</th>
                                                    <th class="py-3">Name</th>
                                                    <th class="py-3">Email</th>
                                                    <th class="py-3">Phone</th>
                                                    <th class="pe-4 py-3">Actions</th>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                @foreach (var driver in Model.Drivers)
                                                {
                                                    <tr>
                                                        <td class="ps-4">@driver.DriverId</td>
                                                        <td class="fw-medium">@driver.FullName</td>
                                                        <td>@driver.Email</td>
                                                        <td>@driver.PhoneNumber</td>
                                                        <td class="pe-4">
                                                            <div class="btn-group btn-group-sm">
                                                                <a asp-action="EditDriver" asp-route-id="@driver.DriverId" class="btn btn-outline-secondary" title="Edit Driver"><i class="bi bi-pencil-fill"></i></a>
                                                                <form asp-action="DeleteDriver" asp-route-id="@driver.DriverId" method="post" class="d-inline" onsubmit="return confirm('Are you sure you want to delete this driver?');">
                                                                    <button type="submit" class="btn btn-outline-danger ms-1" title="Delete Driver"><i class="bi bi-trash-fill"></i></button>
                                                                </form>
                                                            </div>
                                                        </td>
                                                    </tr>
                                                }
                                            </tbody>
                                        </table>
                                    </div>
                                </div>
                            </div>
                        </div>

              <div class="tab-pane fade" id="vehicles-tab-pane" role="tabpanel" tabindex="0">
                  <div class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pb-2 mb-4 border-bottom">
                      <h1 class="h2">Vehicle Management</h1>
                  </div>
                  <div class="card border-0 shadow-sm">
                      <div class="card-body p-0">
                          <div class="table-responsive">
                              <table class="table table-hover align-middle mb-0">
                                  <thead class="bg-light">
                                      <tr>
                                          <th class="ps-4 py-3">Vehicle ID</th>
                                          <th class="py-3">Driver</th>
                                          <th class="py-3">Maker</th>
                                          <th class="py-3">Model</th>
                                          <th class="py-3">Type</th>
                                          <th class="py-3">License Plate</th>
                                          <th class="py-3">Verification Status</th>
                                          <th class="py-3">Year</th>
                                          <th class="pe-4 py-3">Actions</th>
                                      </tr>
                                  </thead>
                                  <tbody>
                                      @foreach (var vehicle in Model.Vehicles)
                                      {
                                          <tr>
                                              <td class="ps-4">@vehicle.Id</td>
                                              <td>@vehicle.Driver?.FullName</td>
                                              <td>@vehicle.CarMaker</td>
                                              <td>@vehicle.Model</td>
                                              <td>@vehicle.VehicleType</td>
                                              <td><span class="font-monospace">@vehicle.LicensePlate</span></td>
                                              <td><span class="badge @(vehicle.VerificationStatus == "Verified" ? "bg-success-subtle text-success-emphasis" : "bg-warning-subtle text-warning-emphasis") rounded-pill border border-0">@vehicle.VerificationStatus</span></td>
                                              <td>@vehicle.Year</td>
                                              <td class="pe-4">
                                                  <div class="btn-group btn-group-sm">
                                                      <a asp-action="EditVehicle" asp-route-id="@vehicle.Id" class="btn btn-outline-secondary" title="Edit Vehicle"><i class="bi bi-pencil-fill"></i></a>
                                                      <form asp-action="DeleteVehicle" asp-route-id="@vehicle.Id" method="post" class="d-inline">
                                                          <button type="submit" class="btn btn-outline-danger ms-1" title="Delete Vehicle" onclick="return confirm('Are you sure you want to delete this vehicle?');"><i class="bi bi-trash-fill"></i></button>
                                                      </form>
                                                  </div>
                                              </td>
                                          </tr>
                                      }
                                  </tbody>
                              </table>
                          </div>
                      </div>
                  </div>
              </div>

              <div class="tab-pane fade" id="rides-tab-pane" role="tabpanel" tabindex="0">
                    <div class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pb-2 mb-4 border-bottom">
                        <h1 class="h2">Ride Management</h1>
                    </div>
                    <div class="card border-0 shadow-sm">
                        <div class="card-body p-0">
                            <div class="p-3 border-bottom bg-light">
                                <div class="row g-3">
                                    <div class="col-md-4">
                                        <input type="text" class="form-control" placeholder="Search by Ride ID, User...">
                                    </div>
                                    <div class="col-md-3">
                                        <select class="form-select">
                                            <option selected>Filter by Status...</option>
                                            <option value="1">Ongoing</option>
                                            <option value="2">Completed</option>
                                            <option value="3">Cancelled</option>
                                        </select>
                                    </div>
                                </div>
                            </div>
                            <div class="table-responsive">
                                <table class="table table-hover align-middle mb-0">
                                    <thead class="bg-light">
                                        <tr>
                                            <th class="ps-4 py-3">Ride ID</th>
                                            <th class="py-3">Route</th>
                                            <th class="py-3">Driver</th>
                                            <th class="py-3">Rider(s)</th>
                                            <th class="py-3">Date & Time</th>
                                            <th class="py-3">Status</th>
                                            <th class="pe-4 py-3">Actions</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        @foreach (var ride in Model.Rides)
                                        {
                                            var riders = Model.RideBookings
                                                .Where(rb => rb.RideId == ride.Id)
                                                .Select(rb => rb.User.UserProfile != null ? rb.User.UserProfile.FullName : rb.User.Email)
                                                .ToList();
                                            <tr>
                                                <td class="ps-4">@ride.Id</td>
                                                <td>@ride.Origin <i class="bi bi-arrow-right mx-1 text-muted"></i> @ride.Destination</td>
                                                <td>@ride.Driver?.FullName</td>
                                                <td>@(riders.Any() ? string.Join(", ", riders) : "N/A")</td>
                                                <td>@ride.DepartureTime.ToString("MMM dd, yyyy HH:mm")</td>
                                                <td><span class="badge @(ride.Status == "Completed" ? "bg-success-subtle text-success-emphasis" : (ride.Status == "Cancelled" ? "bg-danger-subtle text-danger-emphasis" : "bg-primary-subtle text-primary-emphasis")) rounded-pill border border-0">@ride.Status</span></td>
                                                <td class="pe-4">
                                                    <div class="btn-group btn-group-sm">
                                                        <a asp-controller="AdminDashboard" asp-action="RideDetails" asp-route-id="@ride.Id" class="btn btn-outline-info" title="View Details"><i class="bi bi-eye-fill"></i></a>
                                                        <form asp-controller="AdminDashboard" asp-action="CancelRide" asp-route-id="@ride.Id" method="post" class="d-inline">
                                                            @Html.AntiForgeryToken()
                                                            <button type="submit" class="btn btn-outline-danger ms-1" title="Cancel Ride" onclick="return confirm('Are you sure you want to cancel this ride?');"><i class="bi bi-x-circle-fill"></i></button>
                                                        </form>
                                                    </div>
                                                </td>
                                            </tr>
                                        }
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                    </div>
                </div>

                <div class="tab-pane fade" id="reports-tab-pane" role="tabpanel" tabindex="0">
                    <div class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pb-2 mb-4 border-bottom">
                        <h1 class="h2">Reports & Complaints</h1>
                    </div>
                    <div class="card border-0 shadow-sm">
                        <div class="card-body p-0">
                            <div class="table-responsive">
                                <table class="table table-hover align-middle mb-0">
                                    <thead class="bg-light">
                                        <tr>
                                            <th class="ps-4 py-3">Report ID</th>
                                            <th class="py-3">Reporter</th>
                                            <th class="py-3">Reported User</th>
                                            <th class="py-3">Reason</th>
                                            <th class="py-3">Date</th>
                                            <th class="py-3">Status</th>
                                            <th class="pe-4 py-3">Actions</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        @foreach (var report in Model.Reports)
                                        {
                                            <tr>
                                                <td class="ps-4">@report.Id</td>
                                                <td>@report.ReportingUser?.Email</td>
                                                <td>@report.ReportedUser?.Email</td>
                                                <td>@report.Description</td>
                                                <td>@report.CreatedAt.ToString("MMM dd, yyyy")</td>
                                                <td><span class="badge @(report.Status == "Resolved" ? "bg-success-subtle text-success-emphasis" : "bg-warning-subtle text-warning-emphasis") rounded-pill border border-0">@report.Status</span></td>
                                                <td class="pe-4">
                                                    <button class="btn btn-sm btn-outline-primary" title="View Details"><i class="bi bi-eye-fill"></i></button>
                                                    @if (report.Status != "Resolved")
                                                    {
                                                        <button class="btn btn-sm btn-outline-success ms-1" title="Mark Resolved"><i class="bi bi-check-lg"></i></button>
                                                    }
                                                </td>
                                            </tr>
                                        }
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="tab-pane fade" id="financials-tab-pane" role="tabpanel" tabindex="0">
                    <div class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pb-2 mb-4 border-bottom">
                        <h1 class="h2">Financials</h1>
                    </div>
                    <div class="row g-4 mb-4">
                        <div class="col-md-6">
                            <div class="card border-0 shadow-sm h-100 bg-primary text-white">
                                <div class="card-body">
                                    <div class="d-flex justify-content-between align-items-center mb-3">
                                        <h5 class="card-title mb-0">Total Revenue</h5>
                                        <i class="bi bi-wallet2 fs-4 opacity-50"></i>
                                    </div>
                                    <h2 class="display-6 fw-bold mb-0">₹@Model.TotalRevenue.ToString("N2")</h2>
                                    <p class="mb-0 opacity-75 mt-2">Lifetime earnings</p>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="card border-0 shadow-sm h-100 bg-success text-white">
                                <div class="card-body">
                                    <div class="d-flex justify-content-between align-items-center mb-3">
                                        <h5 class="card-title mb-0">Platform Wallet</h5>
                                        <i class="bi bi-wallet-fill fs-4 opacity-50"></i>
                                    </div>
                                    <h2 class="display-6 fw-bold mb-0">₹@Model.PlatformWalletBalance.ToString("N2")</h2>
                                    <p class="mb-0 opacity-75 mt-2">Accumulated Commission</p>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="card border-0 shadow-sm">
                        <div class="card-header bg-white py-3">
                            <h5 class="card-title mb-0">Recent Transactions</h5>
                        </div>
                        <div class="card-body p-0">
                            <div class="table-responsive">
                                <table class="table table-hover align-middle mb-0">
                                    <thead class="bg-light">
                                        <tr>
                                            <th class="ps-4 py-3">Transaction ID</th>
                                            <th class="py-3">User</th>
                                            <th class="py-3">Amount</th>
                                            <th class="py-3">Date</th>
                                            <th class="py-3">Status</th>
                                            <th class="pe-4 py-3">Method</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        @foreach (var payment in Model.Payments)
                                        {
                                            <tr>
                                                <td class="ps-4 font-monospace">@(payment.ProviderTransactionId ?? payment.Id.ToString())</td>
                                                <td>@payment.UserId</td> <!-- Ideally show User Name if available -->
                                                <td class="fw-bold">₹@payment.Amount</td>
                                                <td>@payment.PaymentDate.ToString("MMM dd, yyyy HH:mm")</td>
                                                <td><span class="badge @(payment.Status == "Completed" ? "bg-success-subtle text-success-emphasis" : "bg-warning-subtle text-warning-emphasis") rounded-pill border border-0">@payment.Status</span></td>
                                                <td class="pe-4">@payment.PaymentMode</td>
                                            </tr>
                                        }
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="tab-pane fade" id="config-tab-pane" role="tabpanel" tabindex="0">
                    <div class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pb-2 mb-4 border-bottom">
                        <h1 class="h2">System Configuration</h1>
                    </div>
                    <div class="row g-4">
                        <div class="col-md-6">
                            <div class="card border-0 shadow-sm h-100">
                                <div class="card-header bg-white py-3">
                                    <h5 class="card-title mb-0">General Settings</h5>
                                </div>
                                <div class="card-body">
                                    <form>
                                        <div class="mb-3">
                                            <label class="form-label">Commission Rate (%)</label>
                                            <input type="number" class="form-control" value="@Model.SystemConfig.CommissionRate" step="0.1">
                                        </div>
                                        <div class="mb-3">
                                            <label class="form-label">Support Email</label>
                                            <input type="email" class="form-control" value="@Model.SystemConfig.SupportEmail">
                                        </div>
                                        <div class="mb-3">
                                            <label class="form-label">Support Phone</label>
                                            <input type="text" class="form-control" value="@Model.SystemConfig.SupportPhone">
                                        </div>
                                        <div class="form-check form-switch mb-3">
                                            <input class="form-check-input" type="checkbox" id="maintenanceMode" @(Model.SystemConfig.MaintenanceMode ? "checked" : "")>
                                            <label class="form-check-label" for="maintenanceMode">Maintenance Mode</label>
                                        </div>
                                        <button type="submit" class="btn btn-primary">Save Changes</button>
                                    </form>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="card border-0 shadow-sm h-100">
                                <div class="card-header bg-white py-3">
                                    <h5 class="card-title mb-0">System Health</h5>
                                </div>
                                <div class="card-body">
                                    <ul class="list-group list-group-flush">
                                        <li class="list-group-item d-flex justify-content-between align-items-center px-0">
                                            Database Status
                                            <span class="badge bg-success rounded-pill">Connected</span>
                                        </li>
                                        <li class="list-group-item d-flex justify-content-between align-items-center px-0">
                                            Server Uptime
                                            <span class="text-muted">99.9%</span>
                                        </li>
                                        <li class="list-group-item d-flex justify-content-between align-items-center px-0">
                                            Last Backup
                                            <span class="text-muted">@DateTime.Now.AddHours(-2).ToString("MMM dd, HH:mm")</span>
                                        </li>
                                        <li class="list-group-item d-flex justify-content-between align-items-center px-0">
                                            Version
                                            <span class="text-muted">v1.2.0</span>
                                        </li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                    </div>
                </div>
    </main>
    </div>
    </main>

    <footer class="footer">
        <div class="container">
            <div class="row g-4">
                <div class="col-lg-4">
                    <h5><i class="bi bi-car-front-fill me-2" style="color: var(--secondary-color);"></i>RideShare Connect</h5>
                    <p>Your trusted platform for safe, comfortable, and affordable shared rides. Building a community, one ride at a time.</p>
                    <div class="social-icons mt-3">
                        <a href="#"><i class="bi bi-twitter-x"></i></a>
                        <a href="#"><i class="bi bi-facebook"></i></a>
                        <a href="#"><i class="bi bi-instagram"></i></a>
                    </div>
                </div>
                <div class="col-lg-2 col-md-4 col-6">
                    <h5>Quick Links</h5>
                    <ul class="list-unstyled">
                        <li class="mb-2"><a href="#">About Us</a></li>
                        <li class="mb-2"><a href="#">Contact</a></li>
                    </ul>
                </div>
                <div class="col-lg-3 col-md-4 col-6">
                    <h5>Legal</h5>
                    <ul class="list-unstyled">
                        <li class="mb-2"><a href="#">Privacy Policy</a></li>
                        <li class="mb-2"><a href="#">Terms of Service</a></li>
                    </ul>
                </div>
                <div class="col-lg-3 col-md-4">
                    <h5>Contact Us</h5>
                    <ul class="list-unstyled">
                        <li class="mb-2"><i class="bi bi-geo-alt-fill me-2"></i> 123 Connect Ave, Patna</li>
                        <li class="mb-2"><i class="bi bi-envelope-fill me-2"></i> contact@rideshareconnect.com</li>
                    </ul>
                </div>
            </div>
            <hr class="my-4" style="border-color: rgba(255,255,255,0.2);">
            <div class="text-center">
                <p>&copy; 2025 RideShare Connect. All Rights Reserved.</p>
            </div>
        </div>
    </footer>


    <!-- Chart.js -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <!-- Bootstrap JS Bundle -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function () {
            // Sidebar navigation handler
            const sidebarNav = document.getElementById('sidebar-nav');
            const navLinks = sidebarNav.querySelectorAll('.nav-link[data-bs-toggle="tab"]');
            navLinks.forEach(link => {
                link.addEventListener('click', function (event) {
                    navLinks.forEach(l => l.classList.remove('active'));
                    event.currentTarget.classList.add('active');
                });
            });

            // Chart.js instances
            const userGrowthCtx = document.getElementById('userGrowthChart');
            if(userGrowthCtx) {
                new Chart(userGrowthCtx, {
                    type: 'line',
                    data: {
                        labels: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul'],
                        datasets: [{
                            label: 'New Users',
                            data: [65, 59, 80, 81, 56, 55, 140],
                            fill: false,
                            borderColor: 'rgb(255, 102, 0)',
                            tension: 0.1
                        }]
                    }
                });
            }

            const revenueCtx = document.getElementById('revenueChart');
            if(revenueCtx) {
                new Chart(revenueCtx, {
                    type: 'bar',
                    data: {
                        labels: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul'],
                        datasets: [{
                            label: 'Revenue (in ₹1000s)',
                            data: [12, 19, 13, 15, 22, 23, 30],
                            backgroundColor: 'rgba(255, 102, 0, 0.5)',
                            borderColor: 'rgb(255, 102, 0)',
                            borderWidth: 1
                        }]
                    },
                    options: { scales: { y: { beginAtZero: true } } }
                });
            }
        });
    </script>
</body>
